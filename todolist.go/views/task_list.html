{{ template "header" . }}
<h1>é€²æ—ã©ã†ã§ã™ã‹ï¼Ÿï¼Ÿï¼Ÿ</h1>

<h2>ã‚¿ã‚¹ã‚¯è¿½åŠ </h2>

<form action="/list/add" method="POST">
    <p>
        <input type="text" name="title" value="">
        <input type="submit" value="è¿½åŠ ">
    </p>
</form>

<h2>ãƒ•ã‚£ãƒ«ã‚¿</h2>

<form action="/list" method="POST">
    <p>
        å®Œäº†çŠ¶æ…‹ : <select name="filter" id="select">
            <option value="all">å…¨ã¦ã®ã‚¿ã‚¹ã‚¯</option>
            <option value="undone">æœªå®Œäº†ã®ã‚¿ã‚¹ã‚¯</option>
            <option value="done">å®Œäº†æ¸ˆã®ã‚¿ã‚¹ã‚¯</option>
        </select>
        <script type="text/javascript">
            select_filter({{ .Option.Filter }});
        </script>
    </p>
    <p>
        æ¤œç´¢ : <input type="text" name="search" value="{{ .Option.Search }}">
    </p>
    <input type="submit" value="é©ç”¨">
</form>

<h2>ã‚¿ã‚¹ã‚¯ä¸€è¦§</h2>

{{ if not .Tasks }}
<p>ç™»éŒ²ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ï¼</p>
{{ else }}
<table>
    <tr>
        <th>ID</th>
        <th>ã‚¿ã‚¤ãƒˆãƒ«</th>
        <th>ç™»éŒ²æ—¥</th>
        <th>çŠ¶æ…‹</th>
        <th>å®Œäº†</th>
        <th>æœªå®Œäº†</th>
        <th>ç·¨é›†</th>
        <th>æ¶ˆå»</th>
    </tr>
    {{ range $task := .Tasks }}
    <tr>
        <td><a href="/task/{{ $task.ID }}">{{ $task.ID }}</a></td>
        <td>{{ $task.Title }}</td>
        <td>
            <span id="date{{ $task.ID }}"></span>
            <script type="text/javascript">
                elm = document.getElementById("date{{ $task.ID }}");
                elm.innerHTML = format_date({{ $task.CreatedAt }});
            </script>
        </td>
        <td>{{ if $task.IsDone }}æ¸ˆğŸ‰{{ end }}</td>
        <td>
            {{ if not $task.IsDone }}
            <form action="/list/done/{{ $task.ID }}" method="POST">
                <input type="submit" value="å®Œäº†">
            </form>
            {{ end }}
        </td>
        <td>
            {{ if $task.IsDone }}
            <form action="/list/undone/{{ $task.ID }}" method="POST">
                <input type="submit" value="æœªå®Œäº†">
            </form>
            {{ end }}
        </td>
        <td>
            <form action="/edit/{{ $task.ID }}" method="GET">
                <input type="submit" value="ç·¨é›†">
            </form>
        </td>
        <td>
            <form action="/list/delete/{{ $task.ID }}" method="POST">
                <input type="submit" value="æ¶ˆå»">
            </form>
        </td>
    </tr>
    {{ end }}
</table>
{{ end }}
{{ template "footer" }}